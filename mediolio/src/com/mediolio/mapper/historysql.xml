<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="ht">
  	<select id="historyList" parameterType="int" resultType="htvo">
  		select ht_id, ht_title, ht_public, ht_introduce from history 
  		where m_id=#{m_id} order by ht_lastedit desc
  	</select>
  	<insert id="addHistory" parameterType="htvo">
  		insert into history (ht_title,ht_introduce,ht_lastedit,ht_createdate,m_id,ht_public) 
  		values (#{ht_title},#{ht_introduce},sysdate(),sysdate(),#{m_id},#{ht_public})
  	</insert>
  	<delete id="deleteHistory" parameterType="int">
  		delete from history where ht_id=#{ht_id}
  	</delete>
  	<select id="branchList" parameterType="int" resultType="brvo">
  		select * from branch where ht_id=#{ht_id}
  	</select>
  	<insert id="addBranch" parameterType="brvo">
  		insert into branch (ht_id,br_title,br_img1,br_img2,br_img3,br_text,br_date,br_public) 
  		values (#{ht_id},#{br_title},#{br_img1},#{br_img2},#{br_img3},#{br_text},sysdate(),#{br_public})
  	</insert>
  </mapper>