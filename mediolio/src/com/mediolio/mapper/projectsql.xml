<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="proj">
  	<select id="subcategoryList" parameterType="int" resultType="scvo">
  		select sc_id, sc_name from subcategory where sc_parent=#{sc_parent}
  	</select>
  	<select id="autocompleteTags" parameterType="String" resultType="hvo">
  		select h_id, h_value from hashtag where h_value like CONCAT('%', #{h_value}, '%') 
  		group by h_value order by h_value
  	</select>
  	<insert id="uploadContent" parameterType="covo">
  		insert into content (p_id,c_type,c_value,c_order) values(#{p_id},#{c_type},#{c_value},#{c_order})
  	</insert>
  	<insert id="addProject" parameterType="pvo" useGeneratedKeys="true" keyProperty="p_id">
  		insert into project (p_title,cate_id,p_date,p_viewnum) 
  		values(#{p_title},#{cate_id},sysdate(),0)
  	</insert>
  	<insert id="addHashtag" parameterType="hvo">
  		insert into hashtag (h_value,p_id) values(#{h_value},#{p_id})
  	</insert>
  </mapper>